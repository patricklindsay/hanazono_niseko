(function(b){var a={};b.fn.Slides=function(c){var d=this;var e=b(this).attr("id");a[e]=b.extend({},b.fn.Slides.defaults,c||{});b.fn.Slides.init(d,a[e],function(){return d.each(function(){b.fn.Slides.start(e)})})};b.fn.Slides.defaults={wait:0,pause:6000,fade:1000};b.fn.Slides.init=function(f,d,g){if(typeof d.images==="undefined"){throw Error('Image array is not optional must be passed in the call $("#id").Slides({images : ["img1.jpg", "img2.jpg"]})')}if(typeof d.urls!="undefined"&&(d.urls.length!=d.images.length)){throw Error("Urls length must match images length")}if(typeof d.functions!="undefined"&&(d.functions.length!=d.images.length)){throw Error("Functions length must match images length")}if(typeof d.maps!="undefined"&&(d.maps.length!=d.images.length)){throw Error("Maps length must match images length")}var e=b(f).attr("id")+"_slides_map";d=b.extend(d,{main:b(f),mapid:"#"+e,pipes:{urls:[],functions:[],maps:[]},initialized:false});b(f).attr("usemap",d.mapid);b(f).parent().append(b('<map name="'+e+'" id="'+e+'"></map>'));var c=function(){var h=d.main.height();var i=d.main.width();d.toggle=d.main.wrap("<span></span>").parent().css({display:"block",overflow:"hidden",height:h+"px",width:i+"px"});b.fn.Slides.preloadNextImage(d);d.initialized=true};d.main.load(function(){if(d.initialized){return}c();g()});if(d.main[0].complete&&!d.initialized){c();g()}};b.fn.Slides.preloadNextImage=function(d){var c=b.fn.Slides.getNextImage(d);var e=new Image();e.src=c;d.nextImage=e};b.fn.Slides.getNextImage=function(e){var d=e.images.shift();e.images.push(d);if(e.urls){var c=e.urls.shift();e.urls.push(c);e.pipes.urls.push(c)}if(e.functions){var f=e.functions.shift();e.functions.push(f);e.pipes.functions.push(f)}if(e.maps){var g=e.maps.shift();e.maps.push(g);e.pipes.maps.push(g)}return d};b.fn.Slides.start=function(c){setTimeout(function(){b.fn.Slides.execute(c)},a[c].wait)};b.fn.Slides.execute=function(f){var d=a[f];d.isToggle=false;var c=function(){if(d.isToggle){d.main.attr("src",d.nextImage.src).animate({opacity:1},d.fade);d.isToggle=false}else{d.toggle.css({background:"transparent url("+d.nextImage.src+") left top no-repeat"});d.main.animate({opacity:0},d.fade);d.isToggle=true}if(d.pipes.urls.length>0){d.main.click(function(){window.location.href=d.pipes.urls.shift()})}else{if(d.pipes.maps.length>0){var g=b(d.pipes.maps.shift()).clone();b(d.mapid).empty().append(b(g).find("area"))}}if(d.pipes.functions.length>0){d.pipes.functions.shift()()}b.fn.Slides.preloadNextImage(d)};var e=setInterval(function(){if(d.nextImage.complete){clearInterval(e);c();setInterval(c,d.pause)}},100)}})(jQuery);