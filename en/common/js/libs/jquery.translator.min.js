jQuery.fn.tag=function(){return String(this.get(0).tagName).toLowerCase()};(function(d){d.fn.translator=function(e){b[a]=d.extend({},d.fn.translator.defaults,e,{container:this});return this.each(function(){if(this.__translator){return}else{this.__translator=a}d.translator.setup(a);a++})};d.fn.translator.defaults={origin:"#translate",origin_language:"#original_language",result:"#result",result_language:"#result_language",after_translate:false};d.translator={params:[],setup:function(e){if(b[e].container.tag()=="form"){d.translator.setup_form(e)}d.translator.translate(e,d(b[e].origin))},setup_form:function(e){d(b[e].origin).each(function(){var f=this;d(this).keyup(function(g){if((g.keyCode==13||g.keyCode==32||g.keyCode==8)&&d(this).val().length){d.translator.translate(e,f)}})});d(b[e].container).submit(function(){d.translator.translate(e,d(b[e].origin));return false});d(b[e].origin_language).change(function(){d.translator.translate(e,d(b[e].origin));return false});d(b[e].result_language).change(function(){d.translator.translate(e,d(b[e].origin));return false})},translate:function(j,m){var n=(d(m).length)?d(m):false,g=(d(b[j].origin_language).length&&b[j].origin_language.length>1)?d(b[j].origin_language):"",l=(d(b[j].result_language).length&&b[j].result_language.length>1)?d(b[j].result_language):"",i=(b[j].result.length>1&&d(b[j].result).length)?d(b[j].result):false,k="",f="",e="",h="";if(n){k=n.tag();if(k=="input"||k=="select"||k=="textarea"){f=n.val()}else{f=n.html()}}if(g){k=g.tag();if(k=="input"||k=="select"||k=="textarea"){e=g.val()}else{e=g.text()}}else{e=b[j].origin_language}if(l){k=l.tag();if(k=="input"||k=="select"||k=="textarea"){h=l.val()}else{h=l.text()}}else{h=b[j].result_language}google.language.translate(f,e,h,function(o){if(!o.error){var p=d(b[j].result).tag();if(p=="input"||p=="select"||p=="textarea"){d(b[j].result).val(o.translation)}else{d(b[j].result).html(o.translation)}if(b[j].after_translate&&typeof(b[j].after_translate)!="undefined"){b[j].after_translate(f,o.translation)}}})}};var c=d.translator.data,b=d.translator.params,a=0})(jQuery);